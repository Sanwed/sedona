const form=document.querySelector(".form-review"),requiredInputs=form.querySelectorAll("[data-required]"),modalError=document.getElementById("modal-error"),modalSuccess=document.getElementById("modal-success"),phoneInput=form.querySelector("#phone"),checkboxes=form.querySelectorAll('fieldset.fieldset--checkbox input[type="checkbox"]');function showModal(e){e.classList.remove("modal--hidden")}function hideModal(e){e.classList.add("modal--hidden")}function isCyrillic(e){return/^[а-яё\s-]+$/i.test(e.trim())}function isRequiredFilled(e){return""!==e.value.trim()}function isAnyCheckboxChecked(){return Array.from(checkboxes).some((e=>e.checked))}function isValidEmail(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}phoneInput.addEventListener("input",(function(e){let r=phoneInput.value.replace(/\D/g,"");r.startsWith("8")&&(r="7"+r.slice(1)),r.startsWith("7")||(r="7"+r);let t="+7 (";r.length>1&&(t+=r.slice(1,4)),r.length>=4&&(t+=") "+r.slice(4,7)),r.length>=7&&(t+="-"+r.slice(7,9)),r.length>=9&&(t+="-"+r.slice(9,11)),phoneInput.value=t})),document.querySelectorAll(".modal").forEach((e=>{e.querySelector(".modal__button").addEventListener("click",(()=>{hideModal(e)}))})),form.addEventListener("submit",(e=>{e.preventDefault();let r=!0;form.querySelectorAll(".error").forEach((e=>e.classList.remove("error"))),requiredInputs.forEach((e=>{isRequiredFilled(e)&&("name"!==e.id&&"surname"!==e.id&&"patronymic"!==e.id||isCyrillic(e.value))&&("email"!==e.type||isValidEmail(e.value))||(e.classList.add("error"),r=!1)})),r?(showModal(modalSuccess),form.reset()):showModal(modalError)}));